{"version":3,"sources":["components/Search.js","movify-sm.png","components/Navbar.js","components/Sidebar.js","pages/Home.js","pages/Friends.js","actions/Actions.js","components/MovieTile.js","pages/Movie.js","pages/Profile.js","pages/Collections.js","pages/SomeCollection.js","pages/SearchResults.js","App.js","login.html","index.js"],"names":["Search","useState","query","setQuery","history","useHistory","onSubmit","e","push","preventDefault","className","onClick","placeholder","onChange","val","target","value","Navbar","src","logo","alt","Sidebar","user","useContext","UserContext","collections","CollectionsContext","fixed","path","text","id","cols","map","c","name","concat","item","index","exact","to","activeClassName","Home","link","navigator","clipboard","writeText","picture","username","Friend","newState","data","follow","state","setState","uid","axios","put","Friends","friends","setFriends","useEffect","get","then","res","content","undefined","length","r","Dropdown","mid","visible","setVisible","style","fontSize","v","i","cid","insertCollection","MovieUser","MovieTile","movie","info","console","log","poster","title","year","Movie","setInfo","col","setCol","useParams","popularity","revenue","runtime","original_language","crew","a","job","cast","character","Profile","setUser","setCollections","CollectionTile","Collections","update","redirect","setRedirect","create","post","RenameModal","cb","setVis","setValue","onCancel","class","stopPropagation","SomeCollection","movies","setMovies","renvis","setRenvis","m","newInfo","SearchResults","location","useLocation","results","setResults","params","URLSearchParams","search","q","React","createContext","App","catch","err","updateCollections","html","replace","dangerouslySetInnerHTML","__html","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.492ac318.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\n// const api = 'http://localhost:8000/api'\n// const api = 'http://movify.h4ck.me:8000/api'\n\n\nfunction Search() {\n  const [ query, setQuery ] = useState('');\n  const [ sugg, setSugg ] = useState([]);\n  const history = useHistory();\n\n  /*\n  useEffect(() => {\n    const url = new URL(api + '/suggest')\n    const params = { q: query }\n    url.search = new URLSearchParams(params);\n    axios.get(url)\n      .then(res => {\n        setSugg(res.data)\n        console.log(res.data)\n      })\n  }, [query])\n  */\n\n  const onChange = e => {\n    const val = e.target.value;\n    setQuery(val)\n    // console.log(val)\n  }\n  const onSubmit = e => {\n    history.push(`/search?q=${query}`)\n    e.preventDefault();\n  }\n\n  return (\n    <div className=\"Search\">\n      <form onSubmit={onSubmit}>\n        <span className=\"material-icons\" onClick={onSubmit}>search</span>\n        <input placeholder=\"placehodl\" onChange={onChange} />\n      </form>\n    </div>\n  )\n  /*\n      <ul>{sugg.map((e,i) =>\n      <li key={i}>{e}</li>\n      )}</ul>\n      */\n}\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/movify-sm.85ab3be7.png\";","import React, { useState, useEffect } from 'react';\nimport Search from './Search';\n\nimport './Navbar.css';\nimport logo from '../movify-sm.png';\n\nfunction Navbar() {\n  return (\n  <div className=\"Navbar\">\n    <div className=\"brand\">\n    <img src={logo} alt=\"logo\"/>\n    <div>Movify</div>\n    </div>\n    <Search/>\n  </div>\n  )\n}\n\nexport default Navbar;\n","import React, {useContext} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Sidebar.css';\n\nimport {UserContext, CollectionsContext} from '../App';\n\n\nfunction Sidebar() {\n  const user = useContext(UserContext);\n  const collections = useContext(CollectionsContext);\n\n  const fixed = [\n    {\n      path: '/home',\n      text: 'Home',\n    },\n    {\n      path: '/friends',\n      text: 'Friends',\n    },\n    {\n      path: `/users/${user.id}/collections/`,\n      text: 'Collections',\n    },\n  ]\n\n  const cols = collections.map(c => {\n    return {\n      path: `/collections/${c.id}`,\n      text: c.name,\n    }\n  });\n\n  return (\n    <div className=\"Sidebar\">\n      <ul>\n        {fixed.concat(cols).map((item, index) => (\n          <li><NavLink exact to={item.path} activeClassName=\"active\">\n            {item.text}\n          </NavLink></li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Sidebar;\n","import React, {useState, useEffect, useContext} from 'react';\nimport axios from 'axios';\nimport {useParams} from 'react-router-dom';\n\nimport {UserContext} from '../App';\n\nfunction Home() {\n  const user = useContext(UserContext);\n  const link = 'https://redishacks.ew.r.appspot.com/users/'\n    + user.id;\n  return (\n    <>\n      <h1>Welcome back, {user.name}</h1>\n      <button onClick={() => {navigator.clipboard.writeText(link)}}>\n        copy link\n      </button>\n      <h2>profile</h2>\n      <div>\n        <img className=\"pic\" src={user.picture} alt=\"profile\"/>\n        <div>{user.username}</div>\n      </div>\n    </>\n  )\n}\n\nexport default Home;\n","import React, {useState, useEffect, useContext} from 'react';\nimport {Link} from 'react-router-dom';\nimport {putFollow, delFollow, getFollows, getFollowers} from '../actions/Actions'\nimport {UserContext} from '../App'\n\nconst Friend = ({data}) => {\n  const {picture, name, id, follow} = data;\n\n  const [state, setState] = useState({follow});\n  const update = (newState) => () => {\n    setState({...state, ...newState})\n    if (newState.follow === true)\n      putFollow(id)\n  }\n\n  return (\n    <li>\n      <Link to={'/users/' + id}>\n        <img src={picture} alt=\"profile\"/>\n        <h1>{name}</h1>\n        <button onClick={update({follow: !state.follow})}>\n          {state.follow ? \"Unfollow\" : \"Follow\"}\n        </button>\n      </Link>\n    </li>\n  )\n}\n\nexport default function Friends() {\n  const user = useContext(UserContext);\n  const [friends, setFriends] = useState()\n\n  useEffect(() => {\n    getFollows(user.id)\n      .then(res => setFriends(res.data))\n  }, [user.id])\n\n  const content = (friends === undefined\n    ?  <p>Loading</p>\n    : (friends.length === 0)\n    ? <p>No friends</p>\n    : <ul>{friends.map(r => <Friend data={r}/>)}</ul>\n  )\n  return (\n    <>\n      <h1>Friends</h1>\n      {content}\n    </>\n  )\n}\n","import axios from 'axios';\n\n// users\nconst me = () => {\n  return axios.get(`/api/me`)\n}\n\nconst getUser = (uid) => {\n  return axios.get(`/api/users/${uid}`)\n}\n\nconst putFollow = (uid) => {\n  axios.put(`/api/follows/${uid}`)\n}\n\nconst delFollow = (uid) => {\n  axios.delete(`/api/follows/${uid}`)\n}\n\nconst getFollows = (uid) => {\n  return axios.get(`/api/users/${uid}/follows`)\n}\n\nconst getFollowers = (uid) => {\n  return axios.get(`/api/users/${uid}/followers`)\n}\n\n// movie\nconst search = (q) => {\n  return axios.get(`/api/search?q=${q}`)\n}\n\nconst getMovie = (mid) => {\n  return axios.get(`/api/movies/${mid}`)\n}\n\n// collections\nconst getCollections = (uid) => {\n  return axios.get(`/api/users/${uid}/collections`)\n}\n\nconst newCollection = () => {\n  return axios.post(`/api/collections`)\n}\n\nconst putCollection = (cid, props) => {\n  axios.put(`/api/collections/${cid}`, props)\n}\n\nconst delCollection = (cid, mid) => {\n  axios.delete(`/api/collections/${cid}`)\n}\n\n// collection content\nconst getCollection = (cid) => {\n  return axios.get(`/api/collections/${cid}`)\n}\n\nconst insertCollection = (cid, mid) => {\n  axios.put(`/api/collections/${cid}/movies/${mid}`)\n}\n\nconst popCollection = (cid, mid) => {\n  axios.delete(`/api/collections/${cid}/movies/${mid}`)\n}\n\nexport {\n  me, getUser, getFollows, getFollowers, putFollow, delFollow,\n  search, getMovie,\n  getCollections, newCollection, putCollection, delCollection,\n  getCollection, insertCollection, popCollection,\n}\n","import React, {useState, useContext} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {insertCollection} from '../actions/Actions'\nimport { usePopper } from 'react-popper';\n// import syled from 'styled-components';\n//\nimport {CollectionsContext} from '../App';\n\nimport {AiOutlinePlusCircle} from 'react-icons/ai';\n\nimport './MovieTile.css';\n\nconst default_img = \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/JPEG_example_subimage.svg/300px-JPEG_example_subimage.svg.png\"\n\n\nfunction Dropdown({mid}) {\n  const [visible, setVisible] = useState(false);\n  const collections = useContext(CollectionsContext);\n\n  const toggle = (e) => { setVisible(!visible)\n    e.preventDefault()\n  }\n\n  return (\n    <div onClick={toggle} style={{fontSize: \"2em\"}}>\n      <AiOutlinePlusCircle/>\n      {visible &&\n      <ul className=\"popper\">\n        {collections.map((v,i) =>\n        <li onClick={() => insertCollection(v.id, mid)}>{v.name}</li>\n        )}\n      </ul>\n          }\n    </div>\n  )\n}\n\nconst MovieUser = ({mid, collections, friends}) => {\n\n  return (\n    <div className=\"me\">\n      <div className=\"friends\">\n        {collections.length} collections\n      </div>\n      <div className=\"friends\">\n        {friends.length} friends\n      </div>\n    </div>\n  )\n}\n\nfunction MovieTile({movie}) {\n  if (movie === undefined)\n    return <p> something went wrong, pls tell us </p>\n  const info = movie.info\n  console.log(info.poster)\n  info.poster = info.poster || default_img\n  return (\n    <Link to={\"/movies/\"+info.id}>\n      <div className=\"MovieTile\">\n        <img className=\"poster\" src={info.poster} alt=\"poster\"/>\n        <div className=\"desc\">\n          <p className=\"title\">{info.title}</p>\n          <p className=\"date\">{info.year}</p>\n          <MovieUser \n            mid={info.id}\n            collections={movie.collections}\n            friends={movie.friends}\n          />\n          <Dropdown mid={movie.info.id}/>\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nexport default MovieTile;\n","import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {useParams} from 'react-router-dom';\n\nimport MovieTile from '../components/MovieTile'\n\nfunction Movie() {\n  const [info, setInfo] = useState();\n  const [friends, setFriends] = useState();\n  const [col, setCol] = useState();\n  const {id} =  useParams();\n\n  useEffect(() => {\n    axios.get('/api/movies/' + id)\n      .then(res => {\n        setInfo(res.data.info)\n        setFriends(res.data.friends)\n        setCol(res.data.collections)\n      })\n  }, [id])\n\n  console.log(info)\n  if (info === undefined) {\n    return <div>Loading</div>\n  } else if (info === null) {\n    return <div> not found </div>\n  } else {\n    return (\n      <>\n        <img src={info.poster} alt=\"poster\"/>\n        <h1>{info.title}</h1>\n        <p>{info.popularity} pop</p>\n        <p>{info.revenue} $$$</p>\n        <p>{info.runtime}min</p>\n        <p>{info.original_language}</p>\n        <h1>Crew</h1>\n        {info.crew && info.crew.map(a => (\n          <li>{a.name} as {a.job}</li>\n        ))}\n        <h1>Cast</h1>\n        {info.cast && info.cast.map(a => (\n          <li>{a.name} as {a.character}</li>\n        ))}\n        <p>{friends?.length} friends</p>\n        <p>{col?.length} collectiosn</p>\n      </>\n    )\n  }\n}\n\nexport default Movie;\n","import React, {useState, useEffect} from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {getUser, getCollections} from '../actions/Actions'\n\nfunction Profile() {\n  const {id} = useParams();\n  const [user, setUser] = useState();\n  const [collections, setCollections] = useState();\n\n  useEffect(() => {\n    getUser(id).then(res => setUser(res.data))\n  }, [id])\n  useEffect(() => {\n    getCollections(id).then(res => setCollections(res.data))\n  }, [id])\n\n  if (user === undefined) {\n    return <p>Loading</p>\n  }\n  return (\n    <div className=\"profile\">\n      <img alt=\"\" className=\"pic\" src={user.picture}/>\n      <div>\n        <h1>User {user.name}</h1>\n      </div>\n\n      <div>\n        <Link to={`/users/{id}/collections`}>\n        <h1>Collections</h1>\n        </Link>\n        {collections && collections.map(c =>\n        <li>{c.name}</li>)}\n      </div>\n    </div> \n  )\n}\n\nexport default Profile;\n","import React, {useState, useEffect, useContext} from 'react';\nimport axios from 'axios';\nimport {Link, useLocation, Redirect} from 'react-router-dom';\n\nimport {UserContext, CollectionsContext} from '../App';\n\nconst CollectionTile = ({col}) => {\n  return (\n    <Link to={\"/collections/\"+col.id}>\n      <div className=\"CollectionTile\">\n        <h1>{col.name}</h1>\n      </div>\n    </Link>\n  )\n}\n\n\nexport default function Collections({update}) {\n  const collections = useContext(CollectionsContext);\n  const user = useContext(UserContext);\n\n  const [redirect, setRedirect] = useState();\n\n  const create = () => {\n    axios.post(`/api/collections`)\n      .then(res => setRedirect(\n        <Redirect to={`/collections/${res.data.id}`}/>\n      )).then(update)\n  }\n\n  const content = (\n    collections === undefined ?\n      <p>Loading</p>\n    : collections.length === 0 ?\n      <button onClick={create}>new collection</button>\n    :\n    <div>\n      <button onClick={create}>new collection</button>\n      <div className=\"result-grid\">\n        {collections.map(r => <CollectionTile col={r}/>)}\n      </div>\n    </div>\n  )\n\n  return (\n    <>\n      <h1>Collections</h1>\n      {redirect}\n      {content}\n    </>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {useParams} from 'react-router-dom';\n\nimport MovieTile from '../components/MovieTile';\n\n\nconst RenameModal = ({cb, setVis}) => {\n  const [value, setValue] = useState('');\n  const onSubmit = (e) => {\n    cb(value)\n    setVis(false)\n  }\n  const onCancel = (e) => {\n    setVis(false)\n  }\n  return (\n    <div class=\"Modal\" onClick={onCancel}>\n      <div onClick={e => e.stopPropagation()}>\n        <p>Rename it</p>\n        <form onSubmit={onSubmit}>\n          <input onChange={e =>\n          setValue(e.target.value)}/>\n          <div>\n          <button onClick={onSubmit}>submit</button>\n          <button onClick={onCancel}>cancel</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\n\n\n// TODO load from a collection\nexport default function SomeCollection({update}) {\n  const {cid} = useParams();\n  const [info, setInfo] = useState('loading')\n  const [movies, setMovies] = useState('loading')\n  const [renvis, setRenvis] = useState(false);\n\n  const upd = () => {\n    axios.get(`/api/collections/${cid}`)\n      .then(res => {\n        const {info, movies} = res.data;\n        setInfo(info);\n        setMovies(movies)\n      })\n  }\n  const rename = (name) => {\n    const newInfo = {...info, name}\n    axios.put(`/api/collections/${cid}`, newInfo)\n      .then(update)\n    setInfo(newInfo)\n  }\n\n  useEffect(upd, [cid])\n\n\n  if (movies === 'loading') return <h1>Loading</h1>\n\n  const content = (movies.length === 0\n    ? <p>Empty, search some movies and click the + icon</p>\n    : <div className=\"result-grid\">\n      {movies.map((m,i) => <MovieTile key={i} movie={m}/>)}\n    </div>\n  )\n  return (\n    <>\n      <h1>Collection {info?.name}</h1>\n      <button onClick={() => setRenvis(true)}>\n        rename\n        </button>\n      {content}\n      {renvis &&  <RenameModal\n        setVis={setRenvis}\n        cb={rename} />}\n    </>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport axios from 'axios';\n\nimport MovieTile from '../components/MovieTile';\n\n\nfunction SearchResults() {\n  const location = useLocation();\n  const [query, setQuery] = useState();\n  const [results, setResults] = useState();\n\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    setQuery(params.get('q'));\n  }, [location]);\n\n  useEffect(() => {\n    if (query !== undefined) {\n      axios.get('/api/search', {\n          params: {q: query}\n      }).then(res => {\n        setResults(res.data)\n      })\n    }\n  }, [query])\n\n  console.log(results)\n\n  if (query === undefined)\n    return <p>Loading</p>\n  if (results === undefined)\n    return <p>Search: {query}</p>\n  else\n    return (\n      <div className=\"SearchResults\">\n        <h1>search results for <b>{query}</b></h1>\n        <div className=\"result-grid\">\n          {results.map((res,i) => <MovieTile key={i} movie={res}/>)}\n        </div>\n      </div>\n    )\n}\n\nexport default SearchResults;\n","import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\n\nimport Home from './pages/Home';\nimport Friends from './pages/Friends';\nimport Movie from './pages/Movie';\nimport Profile from './pages/Profile';\nimport Collections from './pages/Collections';\nimport SomeCollection from './pages/SomeCollection';\nimport SearchResults from './pages/SearchResults';\n\nimport login from './login.html';\nimport logo from './movify-sm.png';\n\nconst UserContext = React.createContext();\n// {id, name}\n\nconst CollectionsContext = React.createContext();\n// [{id, name}]\n\nfunction App() {\n\n  const [ user, setUser ] = useState('loading');\n  const [ collections, setCollections ] = useState([]);\n  // console.log(user)\n\n  useEffect(() => {\n    axios.get('/api/me')\n      .then(res => setUser(res.data))\n      .catch(err => setUser('nope'))\n  }, [])\n\n  const updateCollections = () => {\n    if (user)\n      axios.get(`/api/users/${user.id}/collections`)\n        .then(res => setCollections(res.data))\n  }\n\n  useEffect(updateCollections, [user])\n\n  if (user === 'loading') {\n    return <h1>Loading</h1>\n  } else if (user === 'nope') {\n    const html = login.replace('$MOVIFY_LOGO', logo)\n    return <div dangerouslySetInnerHTML={{__html:html}}></div>\n  } else { // yay authenticated\n    return (\n      <>\n        <UserContext.Provider value={user}>\n        <CollectionsContext.Provider value={collections}>\n          <Router>\n            <Navbar/>\n            <Sidebar uid={user.id}/>\n            <div className=\"Page\">\n              <Switch>\n                <Route path=\"/search\">\n                  <SearchResults/>\n                </Route>\n                <Route path=\"/movies/:id\">\n                  <Movie/>\n                </Route>\n                <Route path=\"/friends\">\n                  <Friends/>\n                </Route>\n                <Route path=\"/users/:uid/collections\">\n                  <Collections update={updateCollections}/>\n                </Route>\n                <Route path=\"/users/:id\">\n                  <Profile/>\n                </Route>\n                <Route path=\"/collections/:cid\">\n                  <SomeCollection update={updateCollections}/>\n                </Route>\n                <Route path=\"/\">\n                  <Home user={user}/>\n                </Route>\n              </Switch>\n            </div>\n          </Router>\n        </CollectionsContext.Provider>\n        </UserContext.Provider>\n      </>\n    )\n  }\n}\n\nexport {UserContext, CollectionsContext}\nexport default App;\n","export default \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n\\t<meta charset=\\\"UTF-8\\\">\\n\\t<title>Movify Login</title>\\n\\t<style>\\n* {\\n\\tfont-family: Roboto, sans-serif;\\n\\tbox-sizing: border-box;\\n}\\nbody {\\n\\tbackground: #e1e1e1;\\n\\tmargin: 0;\\n\\toverflow-x: hidden;\\n}\\n.container {\\n\\tdisplay: grid;\\n\\theight: 100vh;\\n\\tgrid-template-columns: 1fr 1fr;\\n}\\n.bg-phone {\\n\\tdisplay: none;\\n\\tposition: absolute;\\n\\twidth: 100vw;\\n\\toverflow: hidden;\\n\\tz-index: -2;\\n}\\n.bg-desktop {\\n\\tposition: absolute;\\n\\theight: 100vh;\\n\\twidth: 100vw;\\n\\tz-index: -2;\\n}\\n@media screen and (max-width: 920px) {\\n\\t.bg-desktop { display: none; }\\n\\t.bg-phone { display: block; }\\n\\t.container {\\n\\t\\tgrid-template-columns: 1fr;\\n\\t}\\n}\\n.container > div{\\n\\tmargin: auto;\\n}\\n.cta {\\n\\tcolor: white;\\n\\ttext-align: center;\\n}\\n.infos {\\n\\tcolor: black;\\n}\\n.cta h1 {\\n\\tfont-size: 5em;\\n\\tmargin: 0;\\n}\\n.cta p {\\n\\tmargin-bottom: 69px;\\n}\\n.login {\\n\\tdisplay: flex;\\n}\\n.login a {\\n\\ttext-transform: uppercase;\\n\\tfont-weight: 700;\\n\\tborder-radius: 10px;\\n\\tpadding: 10px;\\n\\tmargin: 0 20px;\\n\\tfont-size: 1.4em;\\n}\\n.login a.primary {\\n\\tbackground: #C70000;\\n\\tcolor: white;\\n}\\n.login a.secondary {\\n\\tbackground: white;\\n\\tcolor: #C70000;\\n}\\n\\t</style>\\n</head>\\n<body>\\n\\t<svg class=\\\"bg-desktop\\\" preserveAspectRatio=\\\"xMidYMid slice\\\"\\n\\t\\twidth=\\\"1780\\\" height=\\\"1085\\\" viewBox=\\\"0 0 1780 1085\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<rect x=\\\"469\\\" y=\\\"-36\\\" width=\\\"1312\\\" height=\\\"1187\\\" fill=\\\"#E1E1E1\\\"/>\\n<ellipse cx=\\\"-926.5\\\" cy=\\\"492\\\" rx=\\\"1874.5\\\" ry=\\\"1851\\\" fill=\\\"#252221\\\"/>\\n<ellipse cx=\\\"-926.5\\\" cy=\\\"492\\\" rx=\\\"1874.5\\\" ry=\\\"1851\\\" fill=\\\"url(#paint0_radial)\\\"/>\\n<defs>\\n<radialGradient id=\\\"paint0_radial\\\" cx=\\\"0\\\" cy=\\\"0\\\" r=\\\"1\\\" gradientUnits=\\\"userSpaceOnUse\\\" gradientTransform=\\\"translate(-927 492) scale(2015.56 1441.26)\\\">\\n<stop offset=\\\"0.802083\\\" stop-color=\\\"#325987\\\"/>\\n<stop offset=\\\"1\\\" stop-color=\\\"#23466F\\\"/>\\n</radialGradient>\\n</defs>\\n</svg>\\n\\n<svg class=\\\"bg-phone\\\"\\n\\twidth=\\\"841\\\" height=\\\"1596\\\" viewBox=\\\"0 0 841 1596\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<rect x=\\\"-203\\\" y=\\\"636\\\" width=\\\"1312\\\" height=\\\"1187\\\" fill=\\\"#E1E1E1\\\"/>\\n<ellipse cx=\\\"432\\\" cy=\\\"-1196\\\" rx=\\\"1929\\\" ry=\\\"1905\\\" fill=\\\"#252221\\\"/>\\n<ellipse cx=\\\"432\\\" cy=\\\"-1196\\\" rx=\\\"1929\\\" ry=\\\"1905\\\" fill=\\\"url(#paint1_radial)\\\"/>\\n<defs>\\n<radialGradient id=\\\"paint1_radial\\\" cx=\\\"0\\\" cy=\\\"0\\\" r=\\\"1\\\" gradientUnits=\\\"userSpaceOnUse\\\" gradientTransform=\\\"translate(431.485 -1196) scale(2074.17 1483.3)\\\">\\n<stop offset=\\\"0.802083\\\" stop-color=\\\"#325987\\\"/>\\n<stop offset=\\\"1\\\" stop-color=\\\"#23466F\\\"/>\\n</radialGradient>\\n</defs>\\n</svg>\\n\\n\\t<div class=\\\"container\\\">\\n\\t\\t<div class=\\\"cta\\\">\\n\\t\\t\\t<img src=\\\"$MOVIFY_LOGO\\\">\\n\\t\\t\\t<h1>Movify</h1>\\n\\t\\t\\t<p>kek dans le fion</p>\\n\\t\\t\\t<div class=\\\"login\\\">\\n\\t\\t\\t\\t<a href=\\\"/api/login\\\" class=\\\"primary\\\">Sign up</a>\\n\\t\\t\\t\\t<a href=\\\"/api/login\\\" class=\\\"secondary\\\">Sign in</a>\\n\\t\\t\\t</div>\\n\\n\\t\\t</div>\\n\\t\\t<div class=\\\"infos\\\">\\n\\t\\t\\t<div class=\\\"blabla\\\">\\n\\t\\t\\t\\tthis is an entry...<br>\\n\\t\\t\\t\\tbuilt with love and ur mom<br>\\n\\t\\t\\t\\tMatthias, Paul and Maria<br>\\n\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\tany similarities with other<br>\\n\\t\\t\\t\\tservices are unfortunate\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</body>\\n</html>\\n\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}